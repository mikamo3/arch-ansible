---
# Text editor configuration - System-level setup only

- name: Set Neovim as default editor in system environment
  ansible.builtin.lineinfile:
    path: /etc/environment
    line: "{{ item }}"
    create: true
  become: true
  loop:
    - "EDITOR=nvim"
    - "VISUAL=nvim"
  when: editor_config.default_editor == "nvim"

- name: Configure git to use the default editor globally
  community.general.git_config:
    name: core.editor
    value: "{{ editor_config.default_editor }}"
    scope: system
  become: true
  when: editor_config.default_editor is defined