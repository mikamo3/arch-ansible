- name: install desktop environments
  pacman: 
    name:
      - rofi
      - feh
      - thunar
      - thunar-volman
      - gvfs
      - fcitx
      - fcitx-configtool
      - fcitx-gtk2
      - fcitx-gtk3
      - fcitx-mozc
      - fcitx-qt5
      - xdg-user-dirs

- name: install desktop environments(from aur)
  become: yes
  become_user: aur
  aur:
    name:
      - deadd-notification-center-bin
      - polybar

- name: configure thunar
  lineinfile:
    path: /usr/share/gvfs/mounts/network.mount
    regexp: '^AutoMount='
    line: 'AutoMount=false'
    insertafter: EOF 

- name: configure fcitx
  copy:
    src: 60-export-fcitx-config.sh
    dest: /etc/X11/xinit/xinitrc.d/60-export-fcitx-config.sh
    mode: "0755"